import{header}from"./header.js";import{sliderInit}from"./slider.js";import{cardSale}from"./card-sale-template.js";const dropdownSale=document.querySelector("#sale-dropdown"),inputSale=document.querySelector("#sale-input"),options=document.querySelectorAll(".options_item"),cardList=document.querySelector(".card-list"),cards=cardList.children;for(let e=0;e<4;e++){const t=document.createElement("div");t.innerHTML=cardSale;const r=t.querySelector(".slider_container"),c=r.querySelectorAll(".card_picture");[...c][0].classList.remove("card_picture--active");const o=[...c][e].cloneNode(!0);o.classList.add("card_picture--active"),[...c][e].remove(),r.insertAdjacentElement("afterbegin",o);const a=t.firstElementChild;a.classList.add("card--deal"),cardList.insertAdjacentElement("afterbegin",a)}[...cards].forEach((e=>{const t=e.querySelector(".card_wrapper");sliderInit(t,e,5)})),options.forEach((e=>{e.addEventListener("click",(e=>{inputSale.value=e.target.innerText}))})),dropdownSale.onclick=function(){dropdownSale.classList.toggle("active")},window.addEventListener("click",(e=>{!e.composedPath().includes(dropdownSale)&&dropdownSale.classList.contains("active")&&dropdownSale.classList.toggle("active")})),window.addEventListener("touchstart",(e=>{!e.composedPath().includes(dropdownSale)&&dropdownSale.classList.contains("active")&&dropdownSale.classList.toggle("active")})),header();